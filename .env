# ===================================================
# 基本接続設定 / Local Docker-Compose 用デフォルト
# ===================================================

# ---------------- Database -------------------------
DB_BACKEND=postgres          # memory / sqlite も可

# ★ PostgreSQL（docker-compose の service 名 = db）
PG_HOST=db
PG_PORT=5432
POSTGRES_DB=mmopdca
POSTGRES_USER=mmop_user
POSTGRES_PASSWORD=secret

# ---------------- Redis / Celery -------------------
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}

# ---------------- Internal REST APIs --------------
MASTER_BASE_URL=http://master-api:8070/api/master
MOTHER_BASE_URL=http://mother-api:8060/api/mother
SECRET_TOKEN=local-dev-token        # FIXME: 本番は環境毎に上書き

# --- DSL -------------------------------------------------
DSL_ROOT=/mnt/data/dsl               # ★必ず存在するパスをホスト側で bind mount
DEFAULTS_DIR=${DSL_ROOT}/defaults    # 省略可：未設定なら loader が自動で `${DSL_ROOT}/defaults`
SCHEMAS_DIR=${DSL_ROOT}/schemas      # 同上
